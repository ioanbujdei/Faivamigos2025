<!DOCTYPE html>
<html>
<head>
    <title>Custom Social Media Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Link to the CSS file -->
    <link rel="stylesheet" type="text/css" href="../static/index.css">
</head>
<body>

<div class="container">
  <!-- Left Column: Fixed Menu -->
  <div class="left-column">
    <!-- Logo -->
    <div class="logo">
      <img src="../static/logo.png" alt="Logo">
    </div>
    <!-- Menu -->
    <div class="menu">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="notifications.html">Notifications</a></li>
        <li><a href="bookmarks.html">Bookmarks</a></li>
        <li><a href="javascript:void(0)" onclick="openProfileModal()">Profile</a></li>
        <li><button id="loginBtn" class="login-btn">Login</button></li> <!-- Add Login Button -->
      </ul>
    </div>
  </div>
  
  <!-- Middle Column: Posts -->
  <div class="middle-column">
    <!-- Example Post -->
    <div class="card post">
      <h4>Jane Doe</h4>
      <!-- Add onclick event to the image -->
      <img src="https://picsum.photos/100/100" alt="Logo" onclick="goToAboutPage(this.src)">
      <p>Beautiful view from the mountains!</p>
    </div>
  </div>
  
  
  
  <!-- Right Column: Events -->
  <div class="right-column">
    <div class="card">
      <h3>Upcoming Events</h3>
      <p>Friday: Hiking Trip</p>
    </div>
  </div>
</div>

<!-- Login Modal -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeLoginModal()">&times;</span>
    <h2>Login</h2>
    <form id="loginForm">
      <label for="username">Username</label>
      <input type="text" id="username" placeholder="Enter username" required>

      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Enter password" required>

      <button type="submit">Login</button>
    </form>
    <!-- Feedback message for login validation -->
    <div id="loginFeedback" style="margin-top: 10px; color: red;"></div>
    <p>No account? <a href="javascript:void(0)" onclick="openRegistrationModal()">Register here</a></p>
  </div>
</div>

<!-- Registration Modal -->
<div id="registrationModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeRegistrationModal()">&times;</span>
    <h2>Register</h2>
    <form id="registrationForm">
      <label for="regUsername">Username</label>
      <input type="text" id="regUsername" placeholder="Enter username" required>

      <label for="regEmail">Email</label>
      <input type="email" id="regEmail" placeholder="Enter email" required>

      <label for="regPassword">Password</label>
      <input type="password" id="regPassword" placeholder="Enter password" required>

      <label for="regConfirmPassword">Confirm Password</label>
      <input type="password" id="regConfirmPassword" placeholder="Confirm password" required>

      <button type="submit">Register</button>
    </form>
    <!-- Feedback message for validation -->
    <div id="registrationFeedback" style="margin-top: 10px; color: red;"></div>
  </div>
</div>

<!-- Profile Modal -->
<div id="profileModal" class="modal" style="display: none;">
  <div class="modal-content">
    <span class="close" onclick="closeProfileModal()">&times;</span>
    <h2>Profile</h2>
    <div class="profile-info">
      <p><strong>Username:</strong> JaneDoe</p>
      <p><strong>Email:</strong> jane.doe@example.com</p>
      <p><strong>Bio:</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </div>
  </div>
</div>

<!-- New Post Button -->
<div id="newPostModal" class="modal">
  <div class="modal-content">
      <span id="closeModal" class="close">&times;</span>
      <h2>Create New Post</h2>
      <form id="newPostForm">
          <label for="postTitle">Title</label>
          <input type="text" id="postTitle" placeholder="Enter title" required>

          <label for="postDescription">Description</label>
          <textarea id="postDescription" placeholder="Enter description" required></textarea>

          <label for="postImage">Upload Image</label>
          <input type="file" id="postImage" accept="image/*">

          <button type="submit" id="submitPostBtn">Post</button>
      </form>
  </div>
</div>
<button id="newPostBtn" class="new-post-btn">New Post</button>


  <!-- Bookmarks Pop-Up Modal -->
<div id="bookmarksModal" class="modal">
  <div class="modal-content">
      <span id="closeBookmarksModal" class="close">&times;</span>
      <h2>Bookmarks</h2>
      <p>Your bookmarked items will appear here.</p>
      <!-- You can add a list of bookmarks or any other content here -->
  </div>
</div>

<!-- Notifications Pop-Up Modal -->
<div id="notificationsModal" class="modal">
<div class="modal-content">
  <span id="closeNotificationsModal" class="close">&times;</span>
  <h2>Notifications</h2>
  <p>Your notifications will appear here.</p>
  <!-- You can add a list of notifications or any other content here -->
</div>
</div>

<!-- Include the modal.js file -->
<script src="../static/modal.js"></script>

<script>
  // Function to redirect to about.html with the image URL as a query parameter
  function goToAboutPage(imageUrl) {
      window.location.href = `about.html?image=${encodeURIComponent(imageUrl)}`;
  }
// Function to open the login modal
function openLoginModal() {
      document.getElementById('loginModal').style.display = 'flex';
  }

  // Function to close the login modal
  function closeLoginModal() {
      document.getElementById('loginModal').style.display = 'none';
  }

  // Function to open the registration modal
  function openRegistrationModal() {
      closeLoginModal(); // Close the login modal
      document.getElementById('registrationModal').style.display = 'flex';
  }

  // Function to close the registration modal
  function closeRegistrationModal() {
      document.getElementById('registrationModal').style.display = 'none';
  }

  // Attach event listener to the login button
  document.getElementById('loginBtn').addEventListener('click', openLoginModal);

  // Handle login form submission
  document.getElementById('loginForm').addEventListener('submit', function(event) {
      event.preventDefault();
      // Add your login logic here
      alert('Login functionality to be implemented.');
  });

  // Handle registration form submission
  document.getElementById('registrationForm').addEventListener('submit', function(event) {
      event.preventDefault();

      // Get form values
      const username = document.getElementById('regUsername').value.trim();
      const email = document.getElementById('regEmail').value.trim();
      const password = document.getElementById('regPassword').value.trim();
      const confirmPassword = document.getElementById('regConfirmPassword').value.trim();

      // Validation
      if (!username || !email || !password || !confirmPassword) {
          alert('All fields are required.');
          return;
      }

      if (password !== confirmPassword) {
          alert('Passwords do not match.');
          return;
      }

      if (password.length < 6) {
          alert('Password must be at least 6 characters long.');
          return;
      }

      // Simulate successful registration
      alert('Registration successful! Redirecting to login...');

      // Close the registration modal
      closeRegistrationModal();

      // Open the login modal
      openLoginModal();
  });

  // Close modals when clicking outside the modal content
  window.addEventListener('click', function(event) {
      if (event.target === document.getElementById('loginModal')) {
          closeLoginModal();
      }
      if (event.target === document.getElementById('registrationModal')) {
          closeRegistrationModal();
      }
  });
  // Handle registration form submission
document.getElementById('registrationForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get form values
    const username = document.getElementById('regUsername').value.trim();
    const email = document.getElementById('regEmail').value.trim();
    const password = document.getElementById('regPassword').value.trim();
    const confirmPassword = document.getElementById('regConfirmPassword').value.trim();

    // Clear previous feedback
    const feedback = document.getElementById('registrationFeedback');
    feedback.textContent = '';

    // Validation
    if (!username || !email || !password || !confirmPassword) {
        feedback.textContent = 'All fields are required.';
        return;
    }

    if (password !== confirmPassword) {
        feedback.textContent = 'Passwords do not match.';
        return;
    }

    if (password.length < 6) {
        feedback.textContent = 'Password must be at least 6 characters long.';
        return;
    }

    // Simulate successful registration
    feedback.textContent = 'Registration successful! Redirecting to login...';
    feedback.style.color = 'green';

    // Close the registration modal after 2 seconds
    setTimeout(() => {
        closeRegistrationModal();
        openLoginModal();
    }, 2000);
});
// Handle login form submission
document.getElementById('loginForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get form values
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    // Clear previous feedback
    const feedback = document.getElementById('loginFeedback');
    feedback.textContent = '';

    // Validation
    if (!username || !password) {
        feedback.textContent = 'Username and password are required.';
        return;
    }

    if (password.length < 6) {
        feedback.textContent = 'Password must be at least 6 characters long.';
        return;
    }

    // Simulate successful login
    feedback.textContent = 'Login successful!';
    feedback.style.color = 'green';

    // Close the login modal after 2 seconds
    setTimeout(() => {
        closeLoginModal();
    }, 2000);
});
// Store registered users in localStorage
let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];

// Function to open the login modal
function openLoginModal() {
    document.getElementById('loginModal').style.display = 'flex';
}

// Function to close the login modal
function closeLoginModal() {
    document.getElementById('loginModal').style.display = 'none';
}

// Function to open the registration modal
function openRegistrationModal() {
    closeLoginModal(); // Close the login modal
    document.getElementById('registrationModal').style.display = 'flex';
}

// Function to close the registration modal
function closeRegistrationModal() {
    document.getElementById('registrationModal').style.display = 'none';
}

// Attach event listener to the login button
document.getElementById('loginBtn').addEventListener('click', openLoginModal);

// Handle login form submission
document.getElementById('loginForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get form values
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    // Clear previous feedback
    const feedback = document.getElementById('loginFeedback');
    feedback.textContent = '';

    // Validation
    if (!username || !password) {
        feedback.textContent = 'Username and password are required.';
        return;
    }

    if (password.length < 6) {
        feedback.textContent = 'Password must be at least 6 characters long.';
        return;
    }

    // Check if the user is registered
    const user = registeredUsers.find(user => user.username === username && user.password === password);

    if (user) {
        // Successful login
        feedback.textContent = 'Login successful!';
        feedback.style.color = 'green';

        // Close the login modal after 2 seconds
        setTimeout(() => {
            closeLoginModal();
        }, 2000);
    } else {
        // Failed login
        feedback.textContent = 'Invalid username or password. Please register first.';
        feedback.style.color = 'red';
    }
});

// Handle registration form submission
document.getElementById('registrationForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get form values
    const username = document.getElementById('regUsername').value.trim();
    const email = document.getElementById('regEmail').value.trim();
    const password = document.getElementById('regPassword').value.trim();
    const confirmPassword = document.getElementById('regConfirmPassword').value.trim();

    // Clear previous feedback
    const feedback = document.getElementById('registrationFeedback');
    feedback.textContent = '';

    // Validation
    if (!username || !email || !password || !confirmPassword) {
        feedback.textContent = 'All fields are required.';
        return;
    }

    if (password !== confirmPassword) {
        feedback.textContent = 'Passwords do not match.';
        return;
    }

    if (password.length < 6) {
        feedback.textContent = 'Password must be at least 6 characters long.';
        return;
    }

    // Check if the username is already registered
    const userExists = registeredUsers.some(user => user.username === username);

    if (userExists) {
        feedback.textContent = 'Username already exists. Please choose a different username.';
        return;
    }

    // Add the new user to registeredUsers
    registeredUsers.push({ username, email, password });
    localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));

    // Simulate successful registration
    feedback.textContent = 'Registration successful! Redirecting to login...';
    feedback.style.color = 'green';

    // Close the registration modal after 2 seconds
    setTimeout(() => {
        closeRegistrationModal();
        openLoginModal();
    }, 2000);
});  
</script>

<script src="../static/index.js"></script>
</body>
</html>